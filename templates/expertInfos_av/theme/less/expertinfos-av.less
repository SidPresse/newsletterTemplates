//
// Expertinfos Avocats theme's newsletter
// v3.0 | 2015-06-23 10:45
// --------------------------------------------------


//Propriétés mso-* utilisées dans Outlook
//Debug outlook : http://www.verticalresponse.com/blog/its-not-you-its-outlook-the-complete-guide-for-email-marketers/

// Débuggage à effectuer :
// - Live Mail							=> Calage du header
// - Lotus Notes 8.5					=> Calage du header
// - Outlook 2003, 2007, 2010, 2013		=> 2003 : calage du header, autre : chiffre, question, rappel
// - Gmail Android						=> Chiffre, question, rappel : multilines et dimension
// - Gmail IOS7							=> OK résolu
// - Orange.fr Win						=> Inconnu
// - Outlook.com All OS					=> Chiffre, question, rappel : multilines et dimension
// - Yahoo Chrome Mac					=> Chiffre, question, rappel : alignement à gauche au lieu du centre
// - Yahoo Chrome Win					=> OK résolu
// - Yahoo Firefox Mac					=> Chiffre, question, rappel : alignement à gauche au lieu du centre
// - Yahoo Firefox Win					=> OK résolu


// LAYOUT
// --------------------------------------------------

h1, h2, h3, h4, h5, h6 { mso-line-height-rule: exactly; }
h1 { line-height: (@headingsFontSizeH1 * 1.1); }
h2 { line-height: (@headingsFontSizeH2 * 1.1); }
h3 { line-height: (@headingsFontSizeH3 * 1.1); }
h4 { line-height: (@headingsFontSizeH4 * 1.1); }
h5 { line-height: (@headingsFontSizeH5 * 1.1); }
h6 { line-height: (@headingsFontSizeH6 * 1.1); }

.header {
	//suppression décalage en trop
	td.wrapper { padding-top: 0px; }
	table.columns td, table.column td { padding-bottom: 0px; }
}
@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
	table[class="body"] .header {
		td.wrapper { padding-top: 0px !important; }
		table.columns td, table.column td { padding-bottom: 0px !important; }
	}
}

//sur titres
.preTitle {
	display: block;
	font-size: 12px;
	text-transform: uppercase;
	color: @colorCouleur1;
	a { .newsletterLinkColor(@colorCouleur1); }
	
	//décalage si précédé
	* + & { padding-top: 10px; }
}

//tous les titres
.title {
	color: #000000;
	a { .newsletterLinkColor(#000000); }

	.category {
		font-weight: normal;
	}
	
	//décalage si précédé
	* + & { padding-top: 5px; }

	//padding de séparation plus important lorsque précédé d'un autre article
	.readMore + & { padding-top: 10px; }

	& + a img {
		padding-top: 10px;
	}
}

//tous les container de texte
.text {
	//décalage si précédé
	* + & { padding-top: 5px; }
}

//lien de suivis
.readMore {
	text-align: right;
	font-size: @fontSizeSmall;
	margin: 0px;
	color: @colorCouleur1;
	a { .newsletterLinkColor(@colorCouleur1); }

	//décalage si précédé
	* + & { padding-top: 5px; }
}


//gestion row avec bordures de séparation
.row.bordered {
	//suppression décalage en trop
	td.wrapper { padding-top: 0px; }
	table.columns td, table.column td { padding-bottom: 0px; }
	td {
		line-height: 0px;
		hr.border {
			margin: 0px;
			//débuggage bordure pour PostaNova
			background-color: transparent;
			height: 0px;
		}
	}
}
@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
	table[class="body"] .row.bordered {
		td.wrapper { padding-top: 0px !important; }
		table.columns td, table.column td { padding-bottom: 0px !important; }
	}
}


//réseaux sociaux
.faicons {
	vertical-align: bottom;
	td { text-align: right; }
}
.faicon {
	display: inline;
	//pour supprimer les espaces
	font-size: 0px;
	mso-line-height-rule: exactly;
	line-height: 0px;
	padding: 0px 5px 5px 5px;
	&.first { padding-left: 0px; }
	&.last { padding-right: 0px; }
	img, img& {
		display: inline;
		float: none;
	}
	img& {
		padding: 2px;
		vertical-align: top;
	}
}

@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
	table[class="body"] {
		.faicons { vertical-align: baseline !important; }
		.faicon img, img.faicon {
			width: 15px !important;
			height: 15px !important;
		}
	}
}


// contentOnline area
// -------------------------
.contentOnline {
	//réduction décalage vertical en haut
	td.wrapper { padding-top: (@wrapperPad / 2); }
	table.columns td, table.column td { padding-bottom: (@columnPad / 2); }

	//suppression fontSize et lineHeight pour débug Outlook
	table.columns td, table.column td {
		mso-line-height-rule: exactly;
		line-height: 0px;
		font-size: 0px;
	}

	//remise en place taille texte directement sur éléments
	.online, .name {
		mso-line-height-rule: exactly;
		line-height: @baseLineHeight;
		font-size: @baseFontSize;
	}

	.online {
		display: block;
		padding-bottom: 5px;
	}
	.name { display: block; }
}
@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
	table[class="body"] .contentOnline {
		td.wrapper { padding-top: (@wrapperPadCollapse / 2) !important; }
		table.columns td, table.column td { padding-bottom: (@columnPadCollapse / 2) !important; }
		.online { padding-bottom: 0px !important; }

		//pour forcer centrage contenu trop petit
		.columns, .column { display: table !important; }
	}
}


// contentBottom area
// -------------------------
//dimension containers (carré ou rond selon les clients mails)
@roundContPad: 5px;
@roundContWidth: 60px;
@roundContHeight: @roundContWidth;					//padding non déduit car alignement vertical du contenu avec le padding vertical

.contentBottom {
	.title { text-align: center; }

	.wrapper:nth-child(odd) .wrapper-round { background-color: #aa0; }
	.wrapper:nth-child(even) .wrapper-round { background-color: #ee0; }

	//suppression sous padding
	table.wrapper-text {
		width: 100%;
		-premailer-width: 100%;
		td {
			padding-top: (@columnPad / 2);
			padding-bottom: 0px;
		}
	}

	//tableau arrondi
	table.round {
		background-color: #0f0;
		table-layout: fixed;
		&, td {
			width: (@roundContWidth - @roundContPad * 2);
			-premailer-width: unit(@roundContWidth - @roundContPad * 2);
			//application dimension en mode mobile
			@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
				table[class="body"] & { width: (@roundContWidth - @roundContPad * 2) !important; }
			}
		}
		
		td {
			//padding horizontal fixe
			padding-left: @roundContPad;
			padding-right: @roundContPad;
			overflow: hidden;
			&, .inner {
				text-align: center;
				line-height: 1;
				mso-line-height-rule: exactly;
			}
			.inner {
				background-color: #00f;
				margin: 0;
				padding: 0;
			}
		}
	}
	table.columns, table.column {
		//largeur exaxte des colonnes contenant les arrondis
		@fourColWidth: (3 * @gutterWidth + 4 * @columnWidth);
		@sideWidth: ((@fourColWidth - @roundContWidth) / 2 - @roundContPad * 2);

		&.four table.round {
			td.first, td.last {
				background-color: #888;
				vertical-align: middle;
				border-radius: 0px;
				font-size: @baseFontSize;
				width: @sideWidth;
				-premailer-width: unit(@sideWidth);
			}
		}
	}

	//différenciation des tailles
	.chiffre table.round {
		//variabilisé en VBSCRIPT
		@chiffreNbr: 4;
		@chiffreFontSize: round(88px / @chiffreNbr);
		@chiffrePadVertical: round((@roundContHeight - @chiffreFontSize) / 2);
		@chiffreContHeight: (@roundContHeight - @chiffrePadVertical * 2);

		td {
			&, .inner {
				// font-size: @chiffreFontSize;
				font-size: e("**((chiffreFontSize))**px");
			}
			// padding-top: @chiffrePadVertical;
			// padding-bottom: @chiffrePadVertical;
			padding-top: e("**((chiffrePadVertical))**px");
			padding-bottom: e("**((chiffrePadVertical))**px");
		}
		&, td {
			// height: @chiffreContHeight;
			// -premailer-height: unit(@chiffreContHeight);
			height: e("**((chiffreContHeight))**px");
			-premailer-height: e("**((chiffreContHeight))**");
			//application dimension en mode mobile
			@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
				table[class="body"] & {
					// height: @chiffreContHeight !important;
					height: e("**((chiffreContHeight))**px !important");
				}
			}
		}
	}
	.question table.round {
		@localFontSize: 50px;
		@localPadVertical: ((@roundContHeight - @localFontSize) / 2);
		@localContHeight: (@roundContHeight - @localPadVertical * 2);

		td {
			&, .inner { font-size: @localFontSize; }
			padding-top: @localPadVertical;
			padding-bottom: @localPadVertical;
		}
		&, td {
			height: @localContHeight;
			-premailer-height: unit(@localContHeight);
			//application dimension en mode mobile
			@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
				table[class="body"] & { height: @localContHeight !important; }
			}
		}
	}
	.echeancier table.round {
		@localFontSize1: 32px;
		@localFontSize2: 12px;
		@localPadVertical: ((@roundContHeight - @localFontSize1 - @localFontSize2) / 2);
		@localContHeight: (@roundContHeight - @localPadVertical * 2);

		td {
			&, .inner {
				font-size: 0px;
				text-transform: uppercase;
			}
			padding-top: @localPadVertical;
			padding-bottom: @localPadVertical;
		}
		&, td {
			height: @localContHeight;
			-premailer-height: unit(@localContHeight);
			//application dimension en mode mobile
			@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
				table[class="body"] & { height: @localContHeight !important; }
			}
		}

		//calage différencié du jour et du mois
		td .inner {
			.day { font-size: @localFontSize1; }
			.month { font-size: @localFontSize2; }
		}
	}
}
@media only screen and (max-width: (@containerWidth + @gutterWidth)) {
	table[class="body"] .contentBottom {
		//réduction padding
		// td.wrapper:not(:first-child) {
		// 	padding-top: (@wrapperPadCollapse / 2) !important;
		// }
		// td.wrapper:not(:last-child) {
		// 	table.columns td, table.column td { padding-bottom: (@columnPadCollapse / 2) !important; }
		// }

		td { &, .title { text-align: left !important; } }

		table.wrapper-text {
			width: auto !important;
			td {
				padding-top: (@columnPadCollapse / 2) !important;
				padding-bottom: (@columnPadCollapse / 2) !important;
			}
		}

		td.wrapper-round {
			padding-left: @textPadCollapse !important;
			padding-right: @textPadCollapse !important;
		}

		center {
			display: block !important;
			float: left !important;
			width: @columnWidth !important;
		}

		table.round {
			td { text-align: center !important; }
			// &, td { width: (@roundContWidth - @roundContPad * 2) !important; }
		}
	}
}


// DEFAULT COLORS
// --------------------------------------------------

// Main container
// -------------------------
.container { background-color: @nlContainerBackground; }

// Typography
// -------------------------
body, table.body, h1, h2, h3, h4, h5, h6, p, td {
	color: @nlText;
}

// Links
// -------------------------
a {
	color: @nlLinkColor;
	&:hover { color: @nlLinkColorHover !important; }
	&:active { color: @nlLinkColorHover !important; }
	&:visited { color: @nlLinkColor !important; }

	h1 &, h2 &, h3 &, h4 &, h5 &, h6 & {
		color: @nlLinkColor;
		&:active, &:visited { color: @nlLinkColor !important; }
	}

	.appleLinks & {
		color: @nlLinkColor;
		&:hover, &:active { color: @nlLinkColorHover !important; }
		&:visited { color: @nlLinkColor !important; }
	}
}

// contentALaUne area
// -------------------------
.contentALaUne {
	.title {
		color: @nlCntUneTitle;
		a { .newsletterLinkColor(@nlCntUneTitle); }
	}
	.text {
		color: @nlCntUneText;
		a { .newsletterLinkColor(@nlCntUneText); }
	}
}

// contentArticles area
// -------------------------
.contentArticles {
	.title {
		color: @nlCntArtTitle;
		a { .newsletterLinkColor(@nlCntArtTitle); }
	}
	.text {
		color: @nlCntArtText;
		a { .newsletterLinkColor(@nlCntArtText); }
	}
}

// contentBottom area
// -------------------------
.contentBottom {
	.chiffre {
		.title {
			color: @nlCntChfTitle;
			a { .newsletterLinkColor(@nlCntChfTitle); }
		}
		.text {
			color: @nlCntChfText;
			a { .newsletterLinkColor(@nlCntChfText); }
		}
	}
	.question {
		.title {
			color: @nlCntQtnTitle;
			a { .newsletterLinkColor(@nlCntQtnTitle); }
		}
		.text {
			color: @nlCntQtnText;
			a { .newsletterLinkColor(@nlCntQtnText); }
		}
	}
	.echeancier {
		.title {
			color: @nlCntAgdTitle;
			a { .newsletterLinkColor(@nlCntAgdTitle); }
		}
		.text {
			color: @nlCntAgdText;
			a { .newsletterLinkColor(@nlCntAgdText); }
		}
	}
}

/*
// CUSTOM COLORS
// --------------------------------------------------

// Body
// -------------------------
body, table.body {
	-premailer-background: e("##((nlBodyBackground))##");
	//rajout pour suppression paramètre doublon via compiler
	background-image: url("-premailer-bgdebug");
}


// Header
// -------------------------
//pour supprimer toute zone blanche avant chargement header
.header {
	&, td.expander { -premailer-background: e("##((nlBodyBackground))##"); }
}


// Hr borders
// -------------------------
hr {
	color: e("##((nlHrBorder))##");
	-premailer-background: e("##((nlHrBorder))##");
}
//gestion row avec bordures de séparation
.row.bordered {
	td hr.border { border-bottom: 1px solid e("##((nlHrBorder))##"); }
}


// contentOnline area
// -------------------------
.contentOnline {
	&, td.expander { -premailer-background: e("##((nlCntOnlineBackground))##"); }
	.newsletterInnerTextColor(e("##((nlCntOnlineText))##"));
	.online {
		color: e("##((nlCntOnlineText))##");
		a { .newsletterLinkColor(e("##((nlCntOnlineText))##")); }
	}
	.name {
		color: e("##((nlCntOnlineName))##");
		a { .newsletterLinkColor(e("##((nlCntOnlineName))##")); }
	}
}


// contentCabInform area
// -------------------------
.contentCabInform {
	&, td.expander { -premailer-background: e("##((nlCntCabBackground))##"); }
	.title {
		color: e("##((nlCntCabTitle))##");
		a { .newsletterLinkColor(e("##((nlCntCabTitle))##")); }
	}
	.text, .readMore { color: e("##((nlCntCabText))##"); }
	.newsletterInnerTextColor(e("##((nlCntCabText))##"));
}


// contentALaUne area
// -------------------------
.contentALaUne {
	.preTitle { color: e("##((nlCntUnePreTitle))##"); }
	.title {
		.category { color: e("##((nlCntUneCategory))##"); }
	}
	.readMore {
		color: e("##((nlCntUneReadMore))##");
		a { .newsletterLinkColor(e("##((nlCntUneReadMore))##")); }
	}
}


// contentArticles area
// -------------------------
.contentArticles {
	.preTitle { color: e("##((nlCntArtPreTitle))##"); }
	.title .category { color: e("##((nlCntArtCategory))##"); }
	.readMore {
		color: e("##((nlCntArtReadMore))##");
		a { .newsletterLinkColor(e("##((nlCntArtReadMore))##")); }
	}
}


// contentBottom area
// -------------------------
.contentBottom {
	.chiffre {
		table.round {
			td { -premailer-background: e("##((nlCntChfBackground))##"); }
			.newsletterInnerTextColor(e("##((nlCntChfValue))##"));
		}
	}
	.question {
		table.round {
			td { -premailer-background: e("##((nlCntQtnBackground))##"); }
			.newsletterInnerTextColor(e("##((nlCntQtnValue))##"));
		}
	}
	.echeancier {
		table.round {
			td { -premailer-background: e("##((nlCntAgdBackground))##"); }
			.newsletterInnerTextColor(e("##((nlCntAgdValue))##"));
		}
	}
}

// contentContact area
// -------------------------
.contentContact {
	&, td.expander { -premailer-background: e("##((nlCntCctBackground))##"); }
	.newsletterInnerTextColor(e("##((nlCntCctText))##"));
}


// footer area
// -------------------------
.footer {
	&, td.expander { -premailer-background: e("##((nlFooterBackground))##"); }
	.newsletterInnerTextColor(e("##((nlFooterText))##"));
	small { color: e("##((nlFooterText))##"); }
}
*/

// DEVELOPPEMENT COLORS
// --------------------------------------------------

// Body
// -------------------------
body, table.body {
	background: @nlBodyBackground;
	//rajout pour suppression paramètre doublon via compiler
	background-image: url("-premailer-bgdebug");
}


// Header
// -------------------------
//pour supprimer toute zone blanche avant chargement header
.header {
	&, td.expander { background: @nlBodyBackground; }
}


// Hr borders
// -------------------------
hr {
	color: @nlHrBorder;
	background: @nlHrBorder;
}
//gestion row avec bordures de séparation
.row.bordered {
	td hr.border { border-bottom: 1px solid @nlHrBorder; }
}


// contentOnline area
// -------------------------
.contentOnline {
	&, td.expander { background: @nlCntOnlineBackground; }
	.newsletterInnerTextColor(@nlCntOnlineText);
	.online {
		color: @nlCntOnlineText;
		a { .newsletterLinkColor(@nlCntOnlineText); }
	}
	.name {
		color: @nlCntOnlineName;
		a { .newsletterLinkColor(@nlCntOnlineName); }
	}
}


// contentCabInform area
// -------------------------
.contentCabInform {
	&, td.expander { background: @nlCntCabBackground; }
	.title {
		color: @nlCntCabTitle;
		a { .newsletterLinkColor(@nlCntCabTitle); }
	}
	.text, .readMore { color: @nlCntCabText; }
	.newsletterInnerTextColor(@nlCntCabText);
}


// contentALaUne area
// -------------------------
.contentALaUne {
	.preTitle { color: @nlCntUnePreTitle; }
	.title {
		.category { color: @nlCntUneCategory; }
	}
	.readMore {
		color: @nlCntUneReadMore;
		a { .newsletterLinkColor(@nlCntUneReadMore); }
	}
}


// contentArticles area
// -------------------------
.contentArticles {
	.preTitle { color: @nlCntArtPreTitle; }
	.title .category { color: @nlCntArtCategory; }
	.readMore {
		color: @nlCntArtReadMore;
		a { .newsletterLinkColor(@nlCntArtReadMore); }
	}
}


// contentBottom area
// -------------------------
.contentBottom {
	.chiffre {
		table.round {
			td { background: @nlCntChfBackground; }
			.newsletterInnerTextColor(@nlCntChfValue);
		}
	}
	.question {
		table.round {
			td { background: @nlCntQtnBackground; }
			.newsletterInnerTextColor(@nlCntQtnValue);
		}
	}
	.echeancier {
		table.round {
			td { background: @nlCntAgdBackground; }
			.newsletterInnerTextColor(@nlCntAgdValue);
		}
	}
}

// contentContact area
// -------------------------
.contentContact {
	&, td.expander { background: @nlCntCctBackground; }
	.newsletterInnerTextColor(@nlCntCctText);
}


// footer area
// -------------------------
.footer {
	&, td.expander { background: @nlFooterBackground; }
	.newsletterInnerTextColor(@nlFooterText);
	small { color: @nlFooterText; }
}